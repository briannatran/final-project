<!DOCTYPE html>
<!-- <html lang="en"> -->
<head>
<link rel="stylesheet" type="text/css" href="plant.css">
<link href='https://fonts.googleapis.com/css?family=Comfortaa' rel='stylesheet'>
 <meta charset="utf-8"/>
 <script type="text/javascript">

 /* This program will swap an image when it is clicked by using the getElementById() method
 The program will use an image_tracker variable to keep track of which image is currently displayed
 We can use an IF statement to check if the orange picture is being displayed,
 then swap with the blue one, and vice versa.
 */

 var image_tracker = 'first';

 function change(){
   var txt;
 var image = document.getElementById('circle_img');
 if(image_tracker=='first'){
 image.src="IMG_6220.PNG";
 image_tracker='second';
  txt= "I need three more cups of water(25oz each cup).";
 }
  else if(image_tracker=='second'){
 image.src='IMG_6221.PNG';
 image_tracker='third';
  txt="Woohoo I am growing. I need two more cups of water. Remeber to hydrate yourself because you are like a plant.";
 }
 else if(image_tracker=='third'){
image.src='IMG_6222.PNG';
image_tracker='third';
  txt="Thank you for watering me! It is important not to drink too much water at once. Come back later to help me."
}
 else{
 image.src='IMG_6219.PNG';
 image_tracker='first';
 }
 document.getElementById("circle").innerHTML = txt;

 }
 function randNum(min, max) {
   min = Math.ceil(min);
   max = Math.floor(max);
   return Math.floor(Math.random() * (max - min + 1)) + min;
 }

 _ = self.Flower = function(opts){
   this.left = opts.left;
   this.top = opts.top;
   this.size = randNum(1.5, 6);
   this.drawFlower();
 }
 _.prototype = {
   spinFlower: function(el){
     var r = 0;
     var spd = Math.random() * (3 - 0.05) + 0.05;
     (function spin() {
       if (r === 350){
         r = 0
       } else {
         r += spd
       }
       el.style.transform = 'rotate('+r+'deg)';
       requestAnimationFrame(spin);
     })();
   },
   fall: function(el){
     var _this = this;
     var max_right = _this.left + randNum(20, 50);
     var max_left = _this.left - randNum(20, 50);
     var dir_i = randNum(0,1);
     var directions = ['left', 'right'];
     var direction = directions[dir_i];
     (function fall() {
       if (_this.left === max_left){
         direction = 'right';
         max_left= _this.left - randNum(20, 50);
       }
       if (_this.left === max_right){
         direction = 'left';
         max_right = _this.left + randNum(20, 50);
       }
       if (direction === 'left'){
         _this.left -= 1
       } else {
         _this.left += 1
       }
       _this.top += 2;
       el.style.top = _this.top + 'px';
       el.style.left = _this.left + 'px';
       requestAnimationFrame(fall);
     })();
   },
   fadeOut: function(el){
     el.style.opacity = 1;

     (function fade() {
       if ((el.style.opacity -= .007) < 0) {
         el.parentNode.removeChild(el);
       } else {
         requestAnimationFrame(fade);
       }
     })();
   },
   get petal (){
     var petal = document.createElement('div');
     petal.style.userSelect = 'none';
     petal.style.position = 'absolute';
     petal.style.background = 'radial-gradient(white 10%, pink 70%)';
     petal.style.backgroundSize = this.size+'vmin';
     petal.style.backgroundPosition = '-'+this.size/2+'vmin 0';
     petal.style.width = petal.style.height = this.size/2+'vmin';
     petal.style.borderTopLeftRadius = petal.style.borderBottomRightRadius = (42.5 * this.size) / 100 + "vmin";
     return petal;
   },
   get petal_styles(){
     return [
       {
         transform: 'rotate(-47deg)',
         left: '50%',
         marginLeft: '-'+this.size/4+'vmin',
         top: 0
       },{
         transform: 'rotate(15deg)',
         left: '100%',
         marginLeft: '-'+(this.size * 39 /100)+'vmin',
         top: (this.size * 17.5) / 100 + 'vmin'
       },{
         transform: 'rotate(93deg)',
         left: '100%',
         marginLeft: '-'+(this.size * 51) / 100+'vmin',
         top: (this.size * 58) / 100 + 'vmin'
       },{
         transform: 'rotate(175deg)',
         left: '0%',
         marginLeft: (this.size * 5) / 100 +'vmin',
         top: (this.size * 58) / 100 + 'vmin'
       },{
         transform: 'rotate(250deg)',
         left: '0%',
         marginLeft: -(this.size * 8) / 100 +'vmin',
         top: (this.size * 17.5) / 100 + 'vmin'
       }
     ]
   },
   get flower(){
     var flower = document.createElement('div');
     flower.style.userSelect = 'none';
     flower.style.position = 'absolute';
     flower.style.left = this.left + 'px';
     flower.style.top = this.top + 'px';
     flower.style.width = this.size + 'vmin';
     flower.style.height = this.size + 'vmin';
     for (var i = 0; i < 5; i++){
       var petal = this.petal;
       // var styles = this.petal_styles[i];
       petal.style.transform = this.petal_styles[i]['transform'];
       petal.style.top = this.petal_styles[i]['top'];
       petal.style.left = this.petal_styles[i]['left'];
       petal.style.marginLeft = this.petal_styles[i]['marginLeft'];
       flower.appendChild(petal);
     }
     this.fadeOut(flower);
     this.spinFlower(flower);
     this.fall(flower);
     return flower;
   },
   drawFlower: function(){
     document.body.appendChild(this.flower);
   }
 }

 window.addEventListener('mousedown', function(e){
   var amt = randNum(1, 5);
   for (var i = 0; i < amt; i++){
     var top = randNum(e.clientY - 30, e.clientY + 30);
     var left = randNum(e.clientX - 30, e.clientX + 10);
     var flower = new Flower({
       top: top,
       left: left
     });
   }
 });
 </script>

</head>
<body>
  <div class="icon-bar">
  <b><a href="homepage.html" class="homepage">HOME<img src="https://image.flaticon.com/icons/svg/781/781244.svg" ></a>
  <a href="calendar.html" class="calendar">CALENDAR<img src="https://image.flaticon.com/icons/svg/1033/1033973.svg" ></a>
  <a href="health.html" class="health">HEALTH<img src="https://image.flaticon.com/icons/svg/375/375279.svg" ></a>
  <a href="nutrition.html" class="nutrition">NUTRITION<img src="https://image.flaticon.com/icons/svg/135/135763.svg" ></a>
  <a href="plant.html" class="plant">PLANT<img src="https://image.flaticon.com/icons/svg/733/733743.svg" ></a></b>
  </div>
<center><h1>PLANT</h1></center>
  <br>
  <br>
  <br>
  <center><h4>Hello I am Eve! I am a special type of plant that needs 100oz of water a day just like humans. Click me!</center></h4>
  <center><p id="circle"></p></center>

<center><img src="IMG_6219.PNG" alt="Circle" id="circle_img" onclick="change();"></center>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br><br>
<br><br>
<center><p><h2>CITATION</p></h2></center>
<center><a href="https://www.vecteezy.com" target="_blank"><h6> Free vector art via www.Vecteezy.com </h6> <img src="IMG_6227.PNG" style="width:15%"></a></center>
</body>
</html>
